{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Parameters for Concatenate and Time Synchronize Node",
  "type": "object",
  "definitions": {
    "concatenate_and_time_sync_node": {
      "type": "object",
      "properties": {
        "maximum_queue_size": {
          "type": "integer",
          "default": 5,
          "description": "Maximum size of the queue for the Keep Last policy in QoS history."
        },
        "timeout_sec": {
          "type": "number",
          "default": 0.1,
          "description": "Timer's timeout duration in seconds when collectors are created. Collectors will concatenate the point clouds when timeout_sec reaches zero."
        },
        "is_motion_compensated": {
          "type": "boolean",
          "default": true,
          "description": "Flag to indicate if motion compensation is enabled."
        },
        "publish_synchronized_pointcloud": {
          "type": "boolean",
          "default": true,
          "description": "Flag to indicate if synchronized point cloud should be published."
        },
        "keep_input_frame_in_synchronized_pointcloud": {
          "type": "boolean",
          "default": true,
          "description": "Flag to indicate if input frame should be kept in synchronized point cloud."
        },
        "publish_previous_but_late_pointcloud": {
          "type": "boolean",
          "default": false,
          "description": "Flag to indicate if a concatenated point cloud should be published if its timestamp is earlier than the previous published concatenated point cloud."
        },
        "synchronized_pointcloud_postfix": {
          "type": "string",
          "default": "pointcloud",
          "description": "Postfix for the topic name of the synchronized point cloud."
        },
        "input_twist_topic_type": {
          "type": "string",
          "default": "twist",
          "description": "Type of the input twist topic."
        },
        "input_topics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "List of input point cloud topics."
        },
        "output_frame": {
          "type": "string",
          "default": "base_link",
          "description": "Output frame."
        },
        "lidar_timestamp_offsets": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "default": [],
          "description": "List of LiDAR timestamp offsets in seconds. The offset values should be specified in the same order as the input_topics."
        },
        "lidar_timestamp_noise_window": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "default": [],
          "description": "List of LiDAR timestamp noise windows in seconds. The noise values should be specified in the same order as the input_topics."
        },
        "has_static_tf_only": {
          "type": "boolean",
          "default": false,
          "description": "Flag to indicate if only static TF is used."
        }
      },
      "required": [
        "maximum_queue_size",
        "timeout_sec",
        "is_motion_compensated",
        "publish_synchronized_pointcloud",
        "keep_input_frame_in_synchronized_pointcloud",
        "publish_previous_but_late_pointcloud",
        "synchronized_pointcloud_postfix",
        "input_twist_topic_type",
        "input_topics",
        "output_frame",
        "lidar_timestamp_offsets",
        "lidar_timestamp_noise_window",
        "has_static_tf_only"
      ]
    }
  },
  "properties": {
    "/**": {
      "type": "object",
      "properties": {
        "ros__parameters": {
          "$ref": "#/definitions/concatenate_and_time_sync_node"
        }
      },
      "required": ["ros__parameters"]
    }
  },
  "required": ["/**"]
}

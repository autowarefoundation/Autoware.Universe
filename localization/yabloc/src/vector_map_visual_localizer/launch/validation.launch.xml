<launch>
    <node name="overlay" pkg="vector_map_visual_localizer" exec="overlay_node" output="screen" args="--ros-args --log-level warn">
        <remap from="/src_image" to="$(var resized_image)"/>
        <remap from="/src_info" to="$(var resized_info)"/>
        <remap from="/particle_pose" to="/particle_pose"/>
    </node>

    <node if="true" name="refine" pkg="vector_map_visual_localizer" exec="refine_node" output="screen" args="--ros-args --log-level warn">
        <remap from="/src_image" to="$(var resized_image)"/>
        <remap from="/src_info" to="$(var resized_info)"/>
        <remap from="/particle_pose" to="/particle_pose"/>

        <param name="refine.verbose" value="true"/>
        <param name="refine.max_iteration" value="50"/>
        <param name="refine.pixel_interval" value="20"/>

        <!-- If give a minus value to euler_bound, then rotation is not optimized -->
        <param name="refine.euler_bound" value="-2.0"/>

        <param name="refine.long_bound" value="0.1"/>
        <param name="refine.late_bound" value="0.5"/>
        <param name="refine.height_bound" value="0.1"/>
    </node>

    <node name="covariance" pkg="vector_map_visual_localizer" exec="covariance_node" output="screen" args="--ros-args --log-level warn">
    </node>

    <node name="ape" pkg="vector_map_visual_localizer" exec="ape_node" output="screen" args="--ros-args --log-level warn">
        <param name="reference_bags_path" value="$(env HOME)/Reference/05-20-wangansen/"/>
    </node>
</launch>
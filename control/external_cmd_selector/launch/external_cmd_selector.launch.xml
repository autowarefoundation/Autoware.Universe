<launch>
  <arg name="input/local/control_cmd" />
  <arg name="input/local/shift_cmd" />
  <arg name="input/local/turn_signal_cmd" />

  <arg name="input/remote/control_cmd" />
  <arg name="input/remote/shift_cmd" />
  <arg name="input/remote/turn_signal_cmd" />

  <arg name="output/current_selector_mode" default="~/current_selector_mode"/>

  <arg name="output/external_control_cmd" default="/external/external_cmd_selector/external_control_cmd"/>
  <arg name="output/shift_cmd" default="/external/external_cmd_selector/shift_cmd"/>
  <arg name="output/turn_signal_cmd" default="/external/external_cmd_selector/turn_signal_cmd"/>

  <arg name="service/select_external_command" default="~/select_external_command"/>

  <arg name="initial_selector_mode" default="0" description="0: Local, 1: Remote" />

  <node pkg="external_cmd_selector" exec="external_cmd_selector" name="external_cmd_selector" output="screen">
    <remap from="~/input/local/control_cmd" to="$(var input/local/control_cmd)" />
    <remap from="~/input/local/shift_cmd" to="$(var input/local/shift_cmd)" />
    <remap from="~/input/local/turn_signal_cmd" to="$(var input/local/turn_signal_cmd)" />

    <remap from="~/input/remote/control_cmd" to="$(var input/remote/control_cmd)" />
    <remap from="~/input/remote/shift_cmd" to="$(var input/remote/shift_cmd)" />
    <remap from="~/input/remote/turn_signal_cmd" to="$(var input/remote/turn_signal_cmd)" />

    <remap from="~/output/current_selector_mode" to="$(var output/current_selector_mode)" />

    <remap from="~/output/external_control_cmd" to="$(var output/external_control_cmd)" />
    <remap from="~/output/shift_cmd" to="$(var output/shift_cmd)" />
    <remap from="~/output/turn_signal_cmd" to="$(var output/turn_signal_cmd)" />

    <remap from="~/service/select_external_command" to="$(var service/select_external_command)" />

    <param name="initial_selector_mode" value="$(var initial_selector_mode)" />
  </node>
</launch>
